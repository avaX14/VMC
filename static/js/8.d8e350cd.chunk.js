(window["webpackJsonpreact-boilerplate"]=window["webpackJsonpreact-boilerplate"]||[]).push([[8],{597:function(e,t,a){"use strict";var r=a(610),n=a(132);r.setLocale({mixed:{required:n.a.required,oneOf:n.a.oneOf},string:{email:n.a.email}}),t.a=r},606:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a(131),n=a.n(r);function s(e){var t={};for(var a in e)t[n()(a)]=e[a][0];return t}},700:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(17),o=a(126),i=a(145),c=a(128),d=a(127),u=a(42),l=a(64),p="".concat("[Reset Password]"," RESET_PASSWORD_REQUEST"),w="".concat("[Reset Password]"," RESET_PASSWORD_SUCCESS"),b="".concat("[Reset Password]"," RESET_PASSWORD_ERROR"),f={isPending:!1},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;return Object(l.a)(e,(function(e){switch(t.type){case p:e.isPending=!0;break;case w:case b:e.isPending=!1}}))},E=function(e){return e.resetPassword||f};function O(e,t,a){return{type:p,password:e,passwordConfirmation:t,meta:{setErrors:a}}}var g=a(609),P=a(597),v=P.a.object().shape({password:P.a.string().required(),passwordConfirmation:P.a.string().oneOf([P.a.ref("password"),null]).required()}),j=a(28),R="reset_password_page",S=Object(j.a)({resetPasswordTitle:{id:"".concat(R,".text.reset_password_title"),defaultMessage:"Reset Password"},resetPasswordButton:{id:"".concat(R,".button.reset_password"),defaultMessage:"Reset password"},passwordInputLabel:{id:"".concat(R,".input_label.password"),defaultMessage:"Password"},passwordConfirmationInputLabel:{id:"".concat(R,".input_label.password_confirmation"),defaultMessage:"Password Confirmation"},passwordReseted:{id:"".concat(R,".notifications.password_reseted"),defaultMessage:"You can now login with new password"}});function _(e){var t=e.onSubmit,a=e.isPending,r=Object(i.a)().formatMessage;return n.a.createElement(g.d,{initialValues:{password:"",passwordConfirmation:""},validationSchema:v,onSubmit:function(e,a){var r=a.setErrors,n=e.password,s=e.passwordConfirmation;t(n,s,r)}},n.a.createElement(g.c,null,n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"password"},r(S.passwordInputLabel)),n.a.createElement(g.b,{type:"password",name:"password",required:!0,autoFocus:!0}),n.a.createElement(g.a,{name:"password"},(function(e){return r(e,{label:r(S.passwordInputLabel)})}))),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"passwordConfirmation"},r(S.passwordConfirmationInputLabel)),n.a.createElement(g.b,{type:"password",name:"passwordConfirmation",required:!0}),n.a.createElement(g.a,{name:"passwordConfirmation"},(function(e){return r(e,{label:r(S.passwordConfirmationInputLabel)})}))),n.a.createElement("button",{disabled:a,type:"submit"},r(S.resetPasswordButton))))}var h=a(37),C=a.n(h),x=a(20),k=a(25),y=a(104),L=a(606),M=a(70),q=a(21),I=C.a.mark(B),T=C.a.mark(D),A=function(e){return e.router.location.search};function B(e){var t,a,r,n,s,o;return C.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.password,a=e.passwordConfirmation,r=e.meta.setErrors,i.prev=1,i.next=4,Object(x.c)(A);case 4:return n=i.sent,s=new URLSearchParams(n),o=s.get("forgot_password_token"),i.next=9,Object(x.a)(y.a,{url:"/user/reset-password",method:"post",data:{token:o,password:t,password_confirmation:a}});case 9:return i.next=11,Object(x.b)({type:w});case 11:return i.next=13,Object(x.b)(Object(M.a)({message:S.passwordReseted}));case 13:return i.next=15,Object(x.b)(Object(k.d)(q.e));case 15:i.next=24;break;case 17:if(i.prev=17,i.t0=i.catch(1),422!==i.t0.status){i.next=22;break}return i.next=22,Object(x.a)(r,Object(L.a)(i.t0.data.errors));case 22:return i.next=24,Object(x.b)({type:b});case 24:case"end":return i.stop()}}),I,null,[[1,17]])}function D(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.d)(p,B);case 2:case"end":return e.stop()}}),T)}a.d(t,"ResetPasswordPage",(function(){return U}));var F="resetPassword";function U(){Object(c.a)({key:F,reducer:m}),Object(d.a)({key:F,saga:D});var e=Object(s.d)(),t=Object(s.e)(Object(u.a)(E,(function(e){return e.isPending}))),a=Object(r.useCallback)((function(){return e(O.apply(void 0,arguments))}),[e]),l=Object(i.a)().formatMessage;return n.a.createElement("main",null,n.a.createElement(o.a,null,n.a.createElement("title",null,"Reset Password - React Boilerplate")),n.a.createElement("h1",null,l(S.resetPasswordTitle)),n.a.createElement(_,{onSubmit:a,isPending:t}))}t.default=U}}]);
//# sourceMappingURL=8.d8e350cd.chunk.js.map